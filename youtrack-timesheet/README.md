# YouTrack Time Tracking Script

Этот скрипт позволяет автоматически списывать время на регулярные активности в YouTrack через API. 

Он предназначен для использования один раз в неделю, чтобы учесть время, затраченное на регулярные активности в течение текущей недели.

#### Ограничения
- **Проверка на дублирование:** Скрипт не проверяет, было ли уже списано время на задачу в указанный день. Если вы запустите скрипт дважды на неделе, время будет списано дважды.

- **Отсутствие значений:** Если для задачи не указать некоторые значения (например, work_type или comment), скрипт может вызвать ошибку или некорректно обработать данные. Убедитесь, что все необходимые поля заполнены в tasks.json.

- **Обработка ошибок:** Скрипт не содержит подробной обработки ошибок для всех возможных случаев. В случае возникновения проблем, жду ваши PR.

## Требования

- Python 3.6 или выше
- Библиотека `requests`
- Библиотека `python-dotenv`
- Токен доступа YouTrack

## Установка

0. Установите зависимости репозитория и перейдите в диреторию со скриптом
    ```
    python3 -m pip install -r requirements.txt
    cd ./youtrack-timesheet
    ```

1. Заполните файл конфигурации `tasks.json` с вашими задачами. Пример содержимого файла:
   ```json
   [
       {
           "id": "YOUR-123",                                # Номер Issue на YouTrack
           "time_spent_hours": 1,                           # Время в часах
           "work_type": "22-8",                             # Идентификатор типа работ
           "comment": "Completed feature implementation",   # Комментарий
           "day_of_week": "Monday"                          # День недели
       },
       {
           "id": "YOUR-456",
           "time_spent_hours": 0.5,
           "work_type": "22-24",
           "comment": "Performed initial testing",
           "day_of_week": "Tuesday"
       }
   ]
   ```

2. Укажите URL вашего YouTrack и токен доступа в файле `.env`.

## Использование

   ```bash
   python3 timesheet.py
   ```